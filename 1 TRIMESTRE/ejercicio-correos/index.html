<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Correos - Formulario</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <div class="container-lg d-flex mx-auto justify-content-center align-items-center m-0 bg-warning">
    <img src="media/LogoCornamusa.svg" alt="Logo correos" style="width: 3em;">
    <h1 class="h1 m-4">Correos - Formulario</h1>
  </div>

  <form id="formCorreos" novalidate>
    <h4 class="text-center mb-4">Introduzca sus datos</h4>

    <div class="mb-3">
      <label for="nombre" class="form-label">Nombre</label>
      <input type="text" class="form-control" id="nombre" maxlength="100">
    </div>
    <div class="mb-3">
      <label for="empresa" class="form-label">Empresa</label>
      <input type="text" class="form-control" id="empresa" maxlength="100">
      <div class="alerta-error" id="errorNombreEmpresa">Debe rellenar el Nombre o la Empresa.</div>
    </div>
    <div class="mb-3">
      <label for="email" class="form-label">Email</label>
      <input type="email" class="form-control" id="email" maxlength="100" placeholder="(Opcional)">
      <div class="alerta-error" id="errorEmail">El formato del email no es válido.</div>
    </div>
    <div class="row mb-3">
      <div class="col-md-6">
        <label for="tipoDocumento" class="form-label">Tipo de documento</label>
        <select class="form-select" id="tipoDocumento">
            <option value="">(Seleccionar tipo)</option>
            <option value="nif">NIF</option>
            <option value="nie">NIE</option>
            <option value="cif">CIF</option>
        </select>
      </div>
      <div class="col-md-6">
        <label for="numeroDocumento" class="form-label">Número de documento</label>
        <input type="text" class="form-control" id="numeroDocumento" maxlength="9">
      </div>
      <div class="alerta-error" id="errorDocumento">El número de documento es obligatorio y debe ser válido para el tipo seleccionado.</div>
    </div>
    <div class="mb-3">
      <label for="telefono" class="form-label">Teléfono</label>
      <input type="tel" class="form-control" id="telefono" placeholder="(Opcional, 9 dígitos empezando en 6, 7 o 9)" maxlength="9">
      <div class="alerta-error" id="errorTelefono">El teléfono debe tener 9 dígitos y empezar por 6, 7 o 9.</div>
    </div>
    <div class="row mb-3">
      <div class="col-md-4">
        <label for="tipoVia" class="form-label">Tipo de vía *</label>
        <input type="text" class="form-control" id="tipoVia" required>
        <div class="alerta-error" id="errorTipoVia">El tipo de vía es obligatorio.</div>
      </div>
      <div class="col-md-8">
        <label for="nombreVia" class="form-label">Nombre de vía *</label>
        <input type="text" class="form-control" id="nombreVia" required>
        <div class="alerta-error" id="errorNombreVia">El nombre de vía es obligatorio.</div>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-2"><label for="numeroVia" class="form-label">Número</label><input type="text" class="form-control" id="numeroVia" maxlength="5"></div>
      <div class="col-2"><label for="bloque" class="form-label">Bloque</label><input type="text" class="form-control" id="bloque" maxlength="5"></div>
      <div class="col-2"><label for="portal" class="form-label">Portal</label><input type="text" class="form-control" id="portal" maxlength="5"></div>
      <div class="col-2"><label for="piso" class="form-label">Piso</label><input type="text" class="form-control" id="piso" maxlength="5"></div>
      <div class="col-2"><label for="escalera" class="form-label">Escalera</label><input type="text" class="form-control" id="escalera" maxlength="5"></div>
      <div class="col-2"><label for="puerta" class="form-label">Puerta</label><input type="text" class="form-control" id="puerta" maxlength="5"></div>
    </div>
    <div class="row mb-4">
      <div class="col-md-4">
        <label for="cp" class="form-label">Código Postal *</label>
        <input type="text" class="form-control" id="cp" maxlength="5" required>
        <div class="alerta-error" id="errorCP">El Código Postal debe tener 5 dígitos.</div>
      </div>
      <div class="col-md-8">
        <label for="provincia" class="form-label">Provincia</label>
        <input type="text" class="form-control" id="provincia" readonly disabled>
      </div>
    </div>
    <hr>
    
    <h4 class="text-center mb-4">Peso y tamaño</h4>
    <div class="mb-3">
      <div class="row">
        <div class="col-md-6">
          <label for="peso" class="form-label">Peso (kg) *</label>
          <input type="number" class="form-control" id="peso"  placeholder="Ej: 12.5" required>
          <div class="alerta-error" id="errorPeso">El peso es obligatorio (máx. 2 decimales).</div>
        </div>
        <div class="col-md-6">
          <label for="pesoVolumetrico" class="form-label">Peso volumétrico (kg)</label>
          <input type="text" class="form-control" id="pesoVolumetrico" readonly disabled>
        </div>
      </div>
      <div class="row mt-3 align-items-end">
        <div class="col-md-3 col-6"><label for="alto" class="form-label">Alto (cm) *</label><input type="number" class="form-control" id="alto" required></div>
        <div class="col-md-3 col-6"><label for="ancho" class="form-label">Ancho (cm) *</label><input type="number" class="form-control" id="ancho" required></div>
        <div class="col-md-3 col-6"><label for="largo" class="form-label">Largo (cm) *</label><input type="number" class="form-control" id="largo" required></div>
        <div class="col-md-3 col-6 mt-3 mt-md-0"><button type="button" class="btn btn-secondary w-100" id="btnCalcular">Calcular</button></div>
      </div>
      <div class="alerta-error" id="errorDimensiones">Alto, ancho y largo son obligatorios para calcular el peso volumétrico.</div>
    </div>
    <hr>

    <h4 class="text-center mb-4">Servicios adicionales</h4>

    <div class="form-check mb-3">
      <input type="checkbox" class="form-check-input" id="checkEnvioVuelta">
      <label for="checkEnvioVuelta" class="form-check-label">Preparar envío de vuelta asociado</label>
    </div>
    <div class="mb-3 ps-4 campo-oculto" id="campoFechaLimite">
      <label for="fechaLimite" class="form-label">Fecha límite de recogida *</label>
      <input type="text" class="form-control" id="fechaLimite" placeholder="dd/mm/aaaa" maxlength="10">
      <div class="alerta-error" id="errorFechaLimite">La fecha debe ser válida (dd/mm/aaaa) y superior a 7 días desde hoy.</div>
    </div>

    <div class="form-check mb-3">
      <input type="checkbox" class="form-check-input" id="checkSeguro">
      <label for="checkSeguro" class="form-check-label">Seguro a todo riesgo</label>
    </div>
    <div class="mb-3 ps-4 campo-oculto" id="campoImporteSeguro">
      <label for="importeSeguro" class="form-label">Importe a asegurar (€) *</label>
      <input type="number" class="form-control" id="importeSeguro"  placeholder="0.00">
      <div class="alerta-error" id="errorImporteSeguro">El importe es obligatorio y debe ser numérico.</div>
    </div>
    <div class="form-check mb-3">
      <input type="checkbox" class="form-check-input" id="checkReembolso">
      <label for="checkReembolso" class="form-check-label">Reembolso a cuenta</label>
    </div>
    <div class="mb-3 ps-4 campo-oculto" id="campoReembolso">
      <div class="mb-3">
        <label for="importeReembolso" class="form-label">Importe a reembolsar (€) *</label>
        <input type="number" class="form-control" id="importeReembolso" placeholder="0.00">
        <div class="alerta-error" id="errorImporteReembolso">El importe es obligatorio.</div>
      </div>
      <div class="mb-3">
        <label for="ibanReembolso" class="form-label">IBAN para el reembolso *</label>
        <input type="text" class="form-control" id="ibanReembolso" placeholder="ES00 0000 0000 0000 0000 0000" maxlength="24">
        <div class="alerta-error" id="errorIbanReembolso">El IBAN no es válido (ej: ES + 22 dígitos).</div>
      </div>
    </div>
    <hr>
    <div class="mb-3">
      <label for="comentarios" class="form-label">Comentarios</label>
      <textarea class="form-control" id="comentarios" maxlength="150" rows="3"></textarea>
      <div class="alerta-error" id="errorComentarios">Ha superado el límite de 150 caracteres.</div>
    </div>
    <div class="form-check mb-3">
      <input class="form-check-input" type="checkbox" id="condiciones" required>
      <label class="form-check-label" for="condiciones">
        Aceptar <a href="#" data-bs-toggle="modal" data-bs-target="#modalCondiciones">condiciones</a> *
      </label>
      <div class="alerta-error" id="errorCondiciones">Debe aceptar las condiciones.</div>
    </div>
    <div class="d-flex justify-content-between">
      <button type="submit" class="btn btn-primary">Enviar</button>
      <button type="reset" class="btn btn-secondary">Reset</button>
    </div>
  </form>

  <div class="modal fade" id="modalCondiciones" tabindex="-1">
    <div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Condiciones de uso</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><p>Al enviar este formulario, usted acepta que sus datos serán tratados conforme a la Ley de Protección de Datos y utilizados sólo para la gestión de su solicitud.</p></div></div></div>
  </div>
  <div class="modal fade" id="modalErrores" tabindex="-1">
    <div class="modal-dialog"><div class="modal-content"><div class="modal-header bg-danger text-white"><h5 class="modal-title">Errores en el formulario</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body" id="listaErrores"></div></div></div>
  </div>
  <div class="modal fade" id="modalDatos" tabindex="-1">
    <div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header bg-success text-white"><h5 class="modal-title">Datos Enviados Correctamente</h5><button type="button" class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><pre id="datosFinales"></pre></div></div></div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="js/validador.js"></script>
</body>
</html>